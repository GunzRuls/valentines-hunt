<!DOCTYPE html>
<html>
<head>
    <title>Clue 3 ‚ù§Ô∏è</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #fff0f5;
            text-align: center;
            padding-top: 60px;
        }

        h1 {
            color: #d63384;
        }

        .scramble-container {
            margin-top: 40px;
        }

        .scramble-word {
            font-size: 28px;
            font-weight: bold;
            letter-spacing: 2px;
            margin-bottom: 20px;
        }

        input[type="text"] {
            padding: 10px;
            font-size: 16px;
            border-radius: 8px;
            border: 1px solid #d63384;
            width: 250px;
            text-align: center;
        }

        button {
            margin-left: 10px;
            padding: 10px 20px;
            font-size: 16px;
            border-radius: 8px;
            border: none;
            cursor: pointer;
            background-color: #ff4d94;
            color: white;
            transition: background-color 0.2s ease;
        }

        button:hover {
            background-color: #d63384;
        }

        #successMessage {
            display: none;
            margin-top: 40px;
            font-size: 18px;
            line-height: 1.6;
        }
    </style>
</head>
<body>

<h1>Clue 3 üíå</h1>
<p>Unscramble all the words to unlock your next clue!</p>

<div class="scramble-container">
    <div class="scramble-word" id="scrambleWord"></div>
    <input type="text" id="answerInput" placeholder="Type your answer">
    <button onclick="checkAnswer()">Submit</button>
</div>

<div id="successMessage">
    <h2>All Correct! üíñ</h2>
    <p>Life doesn't always go as planned, and most of the time we get all "scrambled"
        trying to figure it out as we go. But, It brings so much joy and happiness to me
        knowing that I'm walking through this life right beside you. Our life, the story God
        is writing with us, is so beautiful and I can't wait to see how it unfolds. I love you so much,
        and I'm so grateful to have you in my life. Together, we can unscramble anything! üíò
    </p>
    <p id = "nextclue">
        Your next clue involves a gift I got you back in the day. It's small, it's cute,
        and it requires other items in order for it to work.
    </p>
    <img src="assets/island.jpg" alt="Hint" style="width:200px; border-radius:12px; margin-top:15px;">
</div>

<script>
    // Array of words
    const words = [
        "passenger princess",
        "botlane duo",
        "superstore",
        "cuddle buddy",
        "paddle boat",
        "dress to impress queen",
        "eggmode",
        "beautiful"
    ];

    let currentIndex = 0;
    const scrambleWordDiv = document.getElementById("scrambleWord");
    const input = document.getElementById("answerInput");

    // Function to shuffle letters of a word (keeps spaces in place)
    function shuffleWord(word) {
        const chars = word.split('');
        let letters = chars.filter(c => c !== ''); // get all letters
        // Fisher-Yates shuffle
        for (let i = letters.length - 1; i > 0; i--) {
            const j = Math.floor(Math.random() * (i + 1));
            [letters[i], letters[j]] = [letters[j], letters[i]];
        }
        // Re-insert spaces
        let result = '';
        let letterIndex = 0;
        for (let c of chars) {
            if (c === ' ') {
                result += ' ';
            } else {
                result += letters[letterIndex++];
            }
        }
        return result.toUpperCase().split('').join(' ');
    }

    // Show first scrambled word
    scrambleWordDiv.innerText = shuffleWord(words[currentIndex]);

    function checkAnswer() {
        const userInput = input.value.trim().toLowerCase();
        if (userInput === words[currentIndex]) {
            currentIndex++;
            input.value = "";
            if (currentIndex >= words.length) {
                // All words done
                document.getElementById("successMessage").style.display = "block";
                document.querySelector(".scramble-container").style.display = "none";
            } else {
                // Show next scrambled word
                scrambleWordDiv.innerText = shuffleWord(words[currentIndex]);
            }
        } else {
            alert("Not quite! Try again üíï");
            input.value = "";
        }
    }
</script>

</body>
</html>
